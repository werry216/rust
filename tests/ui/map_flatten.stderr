error: non-binding let on a type that implements `Drop`
  --> $DIR/map_flatten.rs:14:5
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(option_id).flatten().collect();
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `-D clippy::let-underscore-drop` implied by `-D warnings`
   = help: consider using an underscore-prefixed named binding or dropping explicitly with `std::mem::drop`

error: called `map(..).flatten()` on an `Iterator`
  --> $DIR/map_flatten.rs:14:46
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(option_id).flatten().collect();
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^ help: try using `filter_map` instead: `.filter_map(option_id)`
   |
   = note: `-D clippy::map-flatten` implied by `-D warnings`

error: non-binding let on a type that implements `Drop`
  --> $DIR/map_flatten.rs:15:5
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(option_id_ref).flatten().collect();
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: consider using an underscore-prefixed named binding or dropping explicitly with `std::mem::drop`

error: called `map(..).flatten()` on an `Iterator`
  --> $DIR/map_flatten.rs:15:46
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(option_id_ref).flatten().collect();
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try using `filter_map` instead: `.filter_map(option_id_ref)`

error: non-binding let on a type that implements `Drop`
  --> $DIR/map_flatten.rs:16:5
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(option_id_closure).flatten().collect();
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: consider using an underscore-prefixed named binding or dropping explicitly with `std::mem::drop`

error: called `map(..).flatten()` on an `Iterator`
  --> $DIR/map_flatten.rs:16:46
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(option_id_closure).flatten().collect();
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try using `filter_map` instead: `.filter_map(option_id_closure)`

error: non-binding let on a type that implements `Drop`
  --> $DIR/map_flatten.rs:17:5
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(|x| x.checked_add(1)).flatten().collect();
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: consider using an underscore-prefixed named binding or dropping explicitly with `std::mem::drop`

error: called `map(..).flatten()` on an `Iterator`
  --> $DIR/map_flatten.rs:17:46
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(|x| x.checked_add(1)).flatten().collect();
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try using `filter_map` instead: `.filter_map(|x| x.checked_add(1))`

error: non-binding let on a type that implements `Drop`
  --> $DIR/map_flatten.rs:20:5
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(|x| 0..x).flatten().collect();
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: consider using an underscore-prefixed named binding or dropping explicitly with `std::mem::drop`

error: called `map(..).flatten()` on an `Iterator`
  --> $DIR/map_flatten.rs:20:46
   |
LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(|x| 0..x).flatten().collect();
   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^ help: try using `flat_map` instead: `.flat_map(|x| 0..x)`

error: called `map(..).flatten()` on an `Option`
  --> $DIR/map_flatten.rs:23:39
   |
LL |     let _: Option<_> = (Some(Some(1))).map(|x| x).flatten();
   |                                       ^^^^^^^^^^^^^^^^^^^^^ help: try using `and_then` instead: `.and_then(|x| x)`

error: aborting due to 11 previous errors

