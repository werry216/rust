error: this file contains an un-closed delimiter
  --> $DIR/treat-err-as-bug.rs:13:16
   |
13 | pub fn foo() {
   |              - ^
   |              |
   |              un-closed delimiter

thread '<unnamed>' panicked at 'encountered error with `-Z treat_err_as_bug', librustc_errors/lib.rs:486:13
note: Run with `RUST_BACKTRACE=1` for a backtrace.

error: internal compiler error: unexpected panic

note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports

note: rustc 1.30.0-dev running on x86_64-apple-darwin

note: compiler flags: -Z ui-testing -Z unstable-options -Z treat-err-as-bug

